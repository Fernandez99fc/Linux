UNDERSTAND HOW TO VIEW SELINUX CONTEXTS AND SET MODES.
EXPLAIN HOW TO MODIFY FILE CONTEXTS AND POLICIES 
USE THE COMANDS SETENFORCE, SETSEBOOL,CHCON, RESTORECON AND GETENFORCE

EVERY OBJECT MANAGED BY SELINUX HAS AN ASSOCIATED CONTEXT, BUT HOW CAN YOU SEE THIS?
--
FOR FILES, YOU CAN USE THE ls -Z command:
-DISPLAYS THE FILE CONTEXT AND THE FILENAME

FOR PROCESSES,YOU CAN USE THE COMMAND ps -Z:
DISPLAYS THE CONTEXT FOR THE PROCESS RUNNING IN THE CURRENT SHELL AND THE PROCESS NAME.

YOU CAN ALSO USE THE -Z OPTION TO SEE THE CONTEXT ON OTHER OBJECTS:
- id -Z
- netstat -Z

SELINUX CONTEXT IN DETAIL
--
LET'S TALK ABOUT CONTEXT LABELS FOR A BIT; THEY CAN BE COMPLICATED , FOR EXAMPLES;
unconfined_u:object_r:user_home_t:s0 file1

what's this?

The format of a context lable is :
user:role:type:level

HOWEVER, user, role and level attributes are only used in mls (multilayer security)

Since Linux+ only looks at "targeted policy", we only care about the type
- targeted uses the type attribute to set object security and control access.

USING SETENFORCE 
--
SO THIS LOOKS PRETTY COMPLEX, HOW CAN YOU TELL IF  A CONTEXT IS WRONG OR CAUSING ISSUES?

YOU CAN TEMPRORARILY SUSPEND SELINUX ENFORCEMENT AND SEE IF IT IS CAUSING THE ISSUE YOU ARE SEEING.

THE SETENFORCE COMMAND CAN BE USED TO CHANGE THE MODE OF SELINUX FROM ENFORCING TO PERMISSIVE 
- THIS ONLY DISABLES ENFORCEMENT UNTIL REBOOT
- TO COMPLETELY DISABLE SELINUX PERMANENTLY, CHANGE THE MODE YOU HAVE TO EDIT /etc/selinux/config.

MODIFYING CONTEXTS WITH CHCON
--

WHAT IF YOU DETERMINE SELINUX IS THE ERROR AND NEED TO CHANGE THE CONTEXT?

THIS IS WHERE CHCON COMES IN 
- USED TO CHANGE SELinux security context 

THE CHCON COMMAND ACCEPTS THE FOLLOWING OPTIONS;
chcon -u <new user> -r <new role> -t  <new type> file_name

YOU CAN ALSO PASS chcon -R option to recursively apply the context change in a directory

REVERTING CONTEXTS WITH RESTORECON---------------------
WHAT IF MAKING CHANGES WITH CHCON GOES TERRIBLY WRONG?

THIS IS WHERE "RESTORECON" COMMAND COMES IN!
- IT CAN REVERT A FILE SYSTEM OR INDIVIDUAL OBJECTS TO THE DEFAULT SETTINGS

RESTORECON CAN ALSO ACCEPT THE -R OPTION TO RECURSIVELY STORE THE SECURITY CONTEXT ON ALL FILES UNDER A DIRECTORY

MODIFYING POLICY WITH SETSEBOOL----------------------
IN SELINUX THERE IS ALSO THE CONCEPT OF BOOLEANS 
-BOOLEAN POLICIES CAN BE MODIFIED WITHOUT RELOADING SELINUX OR REBOOTING 
-WE CAN LIST ALL OF THE BOOLEANS WITH: sudo semanage boolean -l

A BOOLEAN IS SIMPLY A BINARY VALUE- SOMETHING THAT IS ON OR OFF, TRUE OR FALSE
- THEREFORE IN SELINUX WE CAN USE BOOLEANS TO TURN ON OR OFF SPECIFIC POLICY ENFORCEMENT..

THE COMMAND USE TO DO THIS IS SETSEBOOL
WE CAN ALSO USE GETSEBOOL TO SEE THE STATUS OF ONE OF THE BOOLEANS LISTED, FOR EXAMPLE: getsebool dhcpd_use_ldap.
ONCE WE KNOW THE STATUS, WE CAN TURN THE BOOLEAN ON OR OFF, FOR EXAMPLE: sudo setsebool on


